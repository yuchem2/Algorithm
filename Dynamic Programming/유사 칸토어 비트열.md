tags: `Programmers`, `DP`
# [Programmers] 유사 칸토어 비트열 (PYTHON)
Programmers 코딩테스트 연습: 

ID: yuchem2@gmail.com

Date: 2024.12.03

소요시간: 약 2시간

## 1. 문제설명

### 문제
---

수학에서 칸토어 집합은 0과 1 사이의 실수로 이루어진 집합으로, [0, 1]부터 시작하여 각 구간을 3등분하여 가운데 구간을 반복적으로 제외하는 방식으로 만들어집니다.

남아는 칸토어 집합을 조금 변형하여 유사 칸토어 비트열을 만들었습니다. 유사 칸토어 비트열은 다음과 같이 정의됩니다.

+ 0 번째 유사 칸토어 비트열은 "1" 입니다.
+ n(1 ≤ n) 번째 유사 칸토어 비트열은 n - 1 번째 유사 칸토어 비트열에서의 1을 11011로 치환하고 0을 00000로 치환하여 만듭니다.

남아는 n 번째 유사 칸토어 비트열에서 특정 구간 내의 1의 개수가 몇 개인지 궁금해졌습니다.
n과 1의 개수가 몇 개인지 알고 싶은 구간을 나타내는 l, r이 주어졌을 때 그 구간 내의 1의 개수를 return 하도록 solution 함수를 완성해주세요.

### 제한사항
+ 1 ≤ n ≤ 20
+ 1 ≤ l, r ≤ 5n
  + l ≤ r < l + 10,000,000
  + l과 r은 비트열에서의 인덱스(1-base)이며 폐구간 [l, r]을 나타냅니다.
  + 
### 예제입출력
| n | l | r  | result  |
|---|---|----|---------|
| 2 | 4 | 17 | 8       |


## 2. 소스코드

### 알고리즘
해당 문제는 해당 유사 칸토어 비트열의 규칙에 따라 0번째부터 n-1번째를 정의한 후에 문제를 풀어야 한다.

1. $a_0 = 1$
2. $a_1 = 11011$
3. $a_2 = 110111101100001101111011 = a_1a_10000a_1a_1$
4. $a_3 = a_2a_2 + 0 * 5^2 + a_2a_2$
5. ....
6. $a_n = a_{n-1}a_{n-1} + 0 * 5^{n-1} + a_{n-1}a_{n-1}$

위와 같이 정의된다고 할 때 항상 각 유사 칸토어 비트열에서 0의 수를 찾는 것이 더 쉽다는 것을 알 수 있다. 각 비트열의 위치를 0에서 $5^n$라고 하면 하면 0의 위치를 다음과 같이 일반화할 수 있다.

현재 위치를 i라고 하면,
1. i % 5 == 2, 항상 그 위치의 값은 0이다. ("11011", "00000"이 반복되기 때문)
2. 몫이 1의 자리수가 될때까지 i를 5로 나눈 후 그 몫을 5로 나눈 나머지가 2인 경우 그 위치의 값은 0이다. (0이 생기는 지점은 길이가 5이상인 칸토어 배열의 가운데 부분이기 때문)

위 정의에 따라 아래 코드를 작성하면 문제를 해결할 수 있다.

### 코드
```python
def solution(n, l, r):
    answer = r - l + 1
    
    for i in range(l-1, r):
        if i % 5 == 2:
            answer -= 1
        else:
            temp = i
            while temp >= 10:
                temp //= 5
                if temp % 5 == 2:
                    answer -= 1
                    break
    return answer
```
## 3. 개선점
x
## 4. 개선사항
x
## 5. 개선사항 평가
x
