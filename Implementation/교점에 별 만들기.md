tags: `Programmers`, `Math`, `Implementation`

# [Programmers] 교점에 별 만들기 (PYTHON)
Programmers 코딩테스트 연습: https://school.programmers.co.kr/learn/courses/30/lessons/87377

ID: yuchem2@gmail.com

Date: 2025.06.11

소요시간: 20분

## 1. 문제설명

### 문제
---
Ax + By + C = 0으로 표현할 수 있는 n개의 직선이 주어질 때, 이 직선의 교점 중 정수 좌표에 별을 그리려 합니다.

예를 들어, 다음과 같은 직선 5개를

+ 2x - y + 4 = 0
+ -2x - y + 4 = 0
+ -y + 1 = 0
+ 5x - 8y - 12 = 0
+ 5x + 8y + 12 = 0

좌표 평면 위에 그리면 아래 그림과 같습니다.

![image](https://github.com/user-attachments/assets/f836fcb3-4f53-4268-b64f-ecd5cf40f04a)

이때, 모든 교점의 좌표는 (4, 1), (4, -4), (-4, -4), (-4, 1), (0, 4), (1.5, 1.0), (2.1, -0.19), (0, -1.5), (-2.1, -0.19), (-1.5, 1.0)입니다. 이 중 정수로만 표현되는 좌표는 (4, 1), (4, -4), (-4, -4), (-4, 1), (0, 4)입니다.

만약 정수로 표현되는 교점에 별을 그리면 다음과 같습니다.

![image](https://github.com/user-attachments/assets/7f441dd4-881c-4021-87d1-136c8105d076)

위의 그림을 문자열로 나타낼 때, 별이 그려진 부분은 *, 빈 공간(격자선이 교차하는 지점)은 .으로 표현하면 다음과 같습니다.
```
"..........."  
".....*....."  
"..........."  
"..........."  
".*.......*."  
"..........."  
"..........."  
"..........."  
"..........."  
".*.......*."  
"..........."
```

이때 격자판은 무한히 넓으니 모든 별을 포함하는 최소한의 크기만 나타내면 됩니다.

따라서 정답은
```
"....*...."  
"........."  
"........."  
"*.......*"  
"........."  
"........."  
"........."  
"........."  
"*.......*"
```
입니다.

직선 A, B, C에 대한 정보가 담긴 배열 line이 매개변수로 주어집니다. 이때 모든 별을 포함하는 최소 사각형을 return 하도록 solution 함수를 완성해주세요.

### 제한사항
+ line의 세로(행) 길이는 2 이상 1,000 이하인 자연수입니다.
  + line의 가로(열) 길이는 3입니다.
  + line의 각 원소는 [A, B, C] 형태입니다.
  + A, B, C는 -100,000 이상 100,000 이하인 정수입니다.
  + 무수히 많은 교점이 생기는 직선 쌍은 주어지지 않습니다.
  + A = 0이면서 B = 0인 경우는 주어지지 않습니다.
+ 정답은 1,000 * 1,000 크기 이내에서 표현됩니다.
+ 별이 한 개 이상 그려지는 입력만 주어집니다.

### 예제입출력

| line                                                            | result                                                                                                                 |
|-----------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| [[2, -1, 4], [-2, -1, 4], [0, -1, 1], [5, -8, -12], [5, 8, 12]] | ["....*....", ".........", ".........", "*.......*", ".........", ".........", ".........", ".........", "*.......*"]  |
| [[0, 1, -1], [1, 0, -1], [1, 0, 1]]                             | ["*.*"]                                                                                                                |
| [[1, -1, 0], [2, -1, 0]]                                        | ["*"]                                                                                                                  |
| [[1, -1, 0], [2, -1, 0], [4, -1, 0]]                            | ["*"]                                                                                                                  |



## 2. 소스코드

### 알고리즘
해당 문제는 참고사항에 주어진 공식을 통해 쉽게 O(1)의 시간으로 두 직선의 교점을 구하고, 교점이 정수인 모든 교점을 문제에서 주어진 방식으로 격자로 표현해 출력하는 문제이다.

격자를 표현하는 방식에서 중요한 것은 교점들의 좌표가 이루는 평면을 이루는 가장 작은 직사각형을 찾는 것이다. 

이를 위해 교점들의 x의 범위와 y의 범위를 파악하고 범위를 각각 [x1, x2], [y1, y2]로 정의하면, 직사각형은 (x1, y1), (x2, y2)를 좌하단, 우상단의 두 점으로 표현할 수 있다. 여기서 x1과 y1은 최솟값이고, x2와 y2는 최댓값이다. 

위 방식을 통해 쉽게 문제를 해결할 수 있다. 


### 코드
```python
from collections import defaultdict
import math

def find_point(a, b, e, c, d, f):
    base = a * d - b * c
    if base == 0:
        return False
    x, y = [(b * f - e * d) / base, (e * c - a * f) / base]
    if int(x) == x and int(y) == y:
        return (int(x), int(y))
    return False

def solution(line):
    points = set()
    for i in range(len(line) - 1):
        for j in range(i + 1, len(line)):
            temp = find_point(line[i][0], line[i][1], line[i][2], line[j][0], line[j][1], line[j][2])
            if temp != False: 
                points.add(temp)
    
    xs, ys = zip(*points)
    x_min, x_max, y_min, y_max = min(xs), max(xs), min(ys), max(ys)
    answer = []
    for i in range(y_max, y_min - 1, -1):
        temp = []
        for j in range(x_min, x_max + 1):
            if (j, i) in points:
                temp.append('*')
            else:
                temp.append('.')
        answer.append(''.join(temp))
    return answer
```
## 3. 개선점
x
## 4. 개선사항
x
## 5. 개선사항 평가
x
